{"ast":null,"code":"var _jsxFileName = \"/Users/jarihiekkapelto/Desktop/MOOC/harjoitusTyoFullStack19/mytram/ui/src/components/LeafletMap.js\";\nimport React from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { Button } from 'react-bootstrap';\nimport L from 'leaflet';\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('../img/icons8-office-xs-50.png'),\n  iconUrl: require('../img/icons8-office-xs-50.png'),\n  shadowUrl: require('../../node_modules/leaflet/dist/images/marker-shadow.png'),\n  iconSize: [40, 40]\n});\nconst mapsInitialCenter = {\n  lat: 60.170627,\n  lng: 24.939946\n};\n\nconst LeafletMap = props => {\n  const trams = props.trams,\n        showTrams = props.showTrams,\n        setShowTrams = props.setShowTrams,\n        openSidebar = props.openSidebar,\n        closeSidebar = props.closeSidebar,\n        showSidebar = props.showSidebar,\n        showSidebarOpenButton = props.showSidebarOpenButton;\n\n  const handleHideTram = veh => {\n    console.log('piilota ratikka nro: ', veh);\n    setShowTrams(showTrams.filter(tram => tram.VP.veh !== veh));\n  };\n\n  const ShowChosenTrams = () => {\n    if (showTrams) {\n      return trams.filter(tram => showTrams.map(tram => tram.VP.veh).includes(tram.VP.veh)).map((tram, i) => React.createElement(Marker, {\n        key: i,\n        position: {\n          lat: tram.VP.lat,\n          lng: tram.VP.long\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(Popup, {\n        closeButton: false,\n        value: tram.VP.veh,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"line:\", tram.VP.desi, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), \"vehicle:\", tram.VP.veh, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), tram.VP.drst === 0 ? 'dors closed' : 'doors open', React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        onClick: () => handleHideTram(tram.VP.veh),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"hide x\"))));\n    }\n  };\n\n  const style = showSidebar ? {\n    marginLeft: '200px'\n  } : {\n    marginLeft: '0'\n  };\n  return React.createElement(\"div\", {\n    id: \"map\",\n    style: style,\n    title: \"Double-click map to set a new center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, showSidebarOpenButton && React.createElement(Button, {\n    variant: \"light\",\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      fontSize: 36,\n      marginTop: '4px',\n      display: showSidebar ? 'none' : ''\n    },\n    onClick: () => openSidebar(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, showSidebarOpenButton ? '☰' : ''), React.createElement(Map, {\n    id: \"map\",\n    center: mapsInitialCenter,\n    zoom: 16,\n    onclick: () => closeSidebar(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(TileLayer, {\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), ShowChosenTrams()));\n};\n\nexport default LeafletMap;","map":{"version":3,"sources":["/Users/jarihiekkapelto/Desktop/MOOC/harjoitusTyoFullStack19/mytram/ui/src/components/LeafletMap.js"],"names":["React","Map","Marker","Popup","TileLayer","Button","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","iconSize","mapsInitialCenter","lat","lng","LeafletMap","props","trams","showTrams","setShowTrams","openSidebar","closeSidebar","showSidebar","showSidebarOpenButton","handleHideTram","veh","console","log","filter","tram","VP","ShowChosenTrams","map","includes","i","long","desi","drst","style","marginLeft","position","top","left","zIndex","fontSize","marginTop","display"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet'\nimport { Button } from 'react-bootstrap'\nimport L from 'leaflet'\n\ndelete L.Icon.Default.prototype._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('../img/icons8-office-xs-50.png'),\n  iconUrl: require('../img/icons8-office-xs-50.png'),\n  shadowUrl: require('../../node_modules/leaflet/dist/images/marker-shadow.png'),\n  iconSize: [40, 40],\n})\n\nconst mapsInitialCenter = { lat: 60.170627, lng: 24.939946 }\n\nconst LeafletMap = props => {\n\n  const { trams, showTrams, setShowTrams, openSidebar,\n    closeSidebar,\n    showSidebar,\n    showSidebarOpenButton,\n  } = props\n\n  const handleHideTram = (veh) => {\n     console.log('piilota ratikka nro: ',veh)\n     setShowTrams(showTrams.filter(tram => tram.VP.veh !== veh))\n  }\n\n  const ShowChosenTrams = () => {\n    if (showTrams) {\n      return trams.filter(tram => showTrams.map(tram => tram.VP.veh).includes(tram.VP.veh)).map((tram, i) => (\n        <Marker\n          key={i}\n          position={{\n            lat: tram.VP.lat,\n            lng: tram.VP.long,\n          }}\n        >\n          <Popup \n          closeButton={false} \n          value={tram.VP.veh}>line:{tram.VP.desi}\n          <br/>vehicle:{tram.VP.veh}\n          <br/>{tram.VP.drst === 0 ? 'dors closed' : 'doors open'}\n          <br/><span onClick={()=>handleHideTram(tram.VP.veh)}>hide x</span>\n          </Popup>\n        </Marker>\n      ))\n    }\n  }\n  const style = showSidebar ? { marginLeft: '200px' } : { marginLeft: '0' }\n\n  return (\n    <div id='map' style={style} title='Double-click map to set a new center'>\n      {showSidebarOpenButton && (\n        <Button\n          variant='light'\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            zIndex: 1,\n            fontSize: 36,\n            marginTop: '4px',\n            display: showSidebar ? 'none' : '',\n          }}\n          onClick={() => openSidebar()}\n        >\n          {showSidebarOpenButton ? '☰' : ''}\n        </Button>\n      )}\n      <Map  \n      id='map'  \n      center={mapsInitialCenter} \n      zoom={16}\n      onclick={()=>closeSidebar()}> \n        <TileLayer\n          url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        /> \n        {ShowChosenTrams()}\n      </Map>\n    </div>\n  )\n}\n\nexport default LeafletMap\n"]},"metadata":{},"sourceType":"module"}