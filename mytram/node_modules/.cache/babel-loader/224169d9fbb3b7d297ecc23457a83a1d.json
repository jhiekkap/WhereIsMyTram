{"ast":null,"code":"\"use strict\";\n\nvar isValue = require(\"../value/is\"),\n    isObject = require(\"../object/is\"),\n    stringCoerce = require(\"../string/coerce\"),\n    toShortString = require(\"./to-short-string\");\n\nvar resolveMessage = function (message, value) {\n  return message.replace(\"%v\", toShortString(value));\n};\n\nmodule.exports = function (value, defaultMessage, inputOptions) {\n  if (!isObject(inputOptions)) throw new TypeError(resolveMessage(defaultMessage, value));\n\n  if (!isValue(value)) {\n    if (\"default\" in inputOptions) return inputOptions[\"default\"];\n    if (inputOptions.isOptional) return null;\n  }\n\n  var errorMessage = stringCoerce(inputOptions.errorMessage);\n  if (!isValue(errorMessage)) errorMessage = defaultMessage;\n  throw new TypeError(resolveMessage(errorMessage, value));\n};","map":null,"metadata":{},"sourceType":"script"}